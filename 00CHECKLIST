Checklist for an Infernal release.
SRE, Thu Jul  4 10:27:28 2002
-------------------------------------

1. Make sure is up to date w/ CVS. (Worry about commits here, on
   other machines and other dirs that may have squid modifications)
	% ./configure
        % make distclean
	% cvs update
	% cvs commit
   Clean up any stray files.

2. Test dev code before making release: exercises and bugs
   This works anywhere (e.g. wren; don't have to be on wrasse)
   Includes the memory leak tests.
   ccmalloc 0.3.9 is installed in /usr/local on wren and wrasse.
    	% autoconf
     	% env CC="ccmalloc gcc" ./configure 
        % make
        % cd Bugs
        % ../ssdk/sqc -m 2 bugs.sqc ../src
        % cd ../testsuite
	% ../ssdk/sqc -m -p ../squid 4 exercises.sqc ../src

3. Write release notes.
	% ssdk/cvs2cl.pl    <- creates ChangeLog; useful summary of CVS logs
        % emacs documentation/release-notes/RELEASE-${RELEASE}
	% cvs add documentation/release-notes/RELEASE-${RELEASE}

4. Update the copyright, year stamps. 
	- Makefile.in (release, relcode, date)
	- 00README (year only)
	- COPYRIGHT (year only)
        - Licenses/gnu (year only)

5. Commit to CVS; include release number in the log message
	% cvs commit

6. make a distribution package
	% make distclean
	% autoconf             <-- only wrasse. Must be autoconf >=2.52
	% ./configure          <-- makes a Makefile (needed for "make dist")
	% make dist

7. Build for our system (on whelk01 or some such)
	% cd infernal-xxx
	% env CFLAGS="-O3" ./configure --enable-lfs prefix=/usr/seshare/ exec_prefix=/usr/seshare/`uname`
	% make
	% make check
        % (cd testsuite; ./sqc -p ../squid/ -r ../../infernal-0.52/src 4 regressions.sqc ../src/)
                                                  ^^^^ replace w/ latest old version
	% make install         <-- I don't need root to do this
	% ssh w001
	% cd /nfs/wol2/people/eddy/src/infernal/infernal-xxx
	% ./configure          <-- sets paths to /usr/local
	% sudo make install
	% logout

8. Put on the FTP site. (on wrasse)
	% make ftpdist
        % emacs /nfs/www/docs/eddy/infernal/index.html   <- edit the web site, if needed.
	

9. Clean up.
	% make distclean

0.3  - SRE, Thu Jul  4 10:27:16 2002
0.5  - SRE, Sun Oct  6 14:22:47 2002
0.51 - SRE, Wed Oct  9 09:43:50 2002
0.52 - SRE, Mon Oct 14 2002
0.53 - SRE, Thu Jan  2 14:24:07 2003
0.54 - SRE, Sun Jan  5 18:17:55 2003
0.55 - SRE, Wed Apr  2 18:12:23 2003