# Makefile for INFERNAL rmark benchmark generation tools
# The Makefile is generated from Makefile.in by autoconf
# DO NOT EDIT Makefile; only edit Makefile.in
#
# SRE, Mon Mar 31 09:12:28 2008 [Janelia]
# SVN $Id: Makefile.in 3279 2010-05-26 18:11:31Z nawrockie $

top_srcdir = @top_srcdir@
srcdir     = @srcdir@
VPATH      = @srcdir@ @top_srcdir@

CC       = @CC@
CFLAGS   = @CFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS  = @LDFLAGS@
SIMDFLAGS= @SIMD_CFLAGS@
DEFS     = @DEFS@
LIBS     = @LIBS@ @LIBGSL@ -lm
MPILIBS  = @MPILIBS@
IMPLDIR  = impl_@IMPL_CHOICE@

SRCDIR   = ../src
ESLDIR   = ../easel
HMMERDIR = ../hmmer

ESLINC   = -I${ESLDIR} -I${top_srcdir}/easel
SRCINC   = -I${SRCDIR} -I${top_srcdir}/src

PROGS    = rmark-create\
	   rmark-rocplot\

all: ${PROGS} 
	cd ${ESLDIR};            ${MAKE} libeasel.a
#	cd ${SRCDIR}/${IMPLDIR}; ${MAKE} impl_lib
#	cd ${SRCDIR};            ${MAKE} hmmer_lib
#	cd ${SRCDIR};            ${MAKE} hmmer_progs
	${MAKE} rmark_progs

rmark_progs: ${PROGS} 

.c.o: 
	${CC} ${ESLINC} ${SRCINC} ${CFLAGS} ${SIMDFLAGS} ${DEFS} -o $@ -c $<		

${PROGS}: @EXEC_DEPENDENCY@  ${HMMERDIR}/src/libhmmer.a ${ESLDIR}/libeasel.a
	${CC} ${CFLAGS} ${DEFS} ${LDFLAGS} -L${ESLDIR} -L${HMMERDIR}/src -o $@ $@.o -lhmmer -leasel ${LIBS}

distclean:
	make clean
	-rm -f Makefile

clean:
	-rm -f *.o *~  ${PROGS} TAGS
	-rm -f *.gcno

