top_srcdir     = @top_srcdir@
srcdir         = @srcdir@
VPATH          = @srcdir@ 

SQCLEVEL = 2
DEVSQCLEVEL = 4

ESLDIR = @INFERNAL_ESLDIR@

# beautification magic stolen from git 
#
QUIET_SUBDIR0 = +${MAKE} -C #space separator after -c
QUIET_SUBDIR1 = 
ifndef V
	QUIET_CC      = @echo '    ' CC $@;
	QUIET_GEN     = @echo '    ' GEN $@;
	QUIET_AR      = @echo '    ' AR $@;
	QUIET_SUBDIR0 = +@subdir=
	QUIET_SUBDIR1 = ; echo '    ' SUBDIR  $$subdir; \
		        ${MAKE} -C $$subdir
endif

.PHONY: check clean distclean

check: 
	@echo 
	@echo Running Infernal test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${SQCLEVEL} ${srcdir}/exercises.sqc .. ${srcdir}/..

devcheck: 
	@echo 
	@echo Running Infernal developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/exercises.sqc   .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmalign.sqc     .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmbuild.sqc     .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmcalibrate.sqc .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmconvert.sqc   .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmemit.sqc      .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmfetch.sqc     .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmpress.sqc     .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmscan.sqc      .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmsearch.sqc    .. ${srcdir}/..
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmstat.sqc      .. ${srcdir}/..

align: 
	@echo 
	@echo Running Infernal cmalign developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmalign.sqc     .. ${srcdir}/..

build: 
	@echo 
	@echo Running Infernal cmbuild developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmbuild.sqc     .. ${srcdir}/..

calibrate: 
	@echo 
	@echo Running Infernal cmcalibrate developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmcalibrate.sqc     .. ${srcdir}/..


convert:
	@echo 
	@echo Running Infernal cmconvert developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmconvert.sqc     .. ${srcdir}/..

emit:
	@echo 
	@echo Running Infernal cmemit developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmemit.sqc     .. ${srcdir}/..

fetch:
	@echo 
	@echo Running Infernal cmfetch developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmfetch.sqc     .. ${srcdir}/..

press:
	@echo 
	@echo Running Infernal cmpress developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmpress.sqc     .. ${srcdir}/..

scan:
	@echo 
	@echo Running Infernal cmscan developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmscan.sqc     .. ${srcdir}/..

search:
	@echo 
	@echo Running Infernal cmsearch developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmsearch.sqc     .. ${srcdir}/..

stat:
	@echo 
	@echo Running Infernal cmstat developer test suite...
	@echo
	@${srcdir}/../${ESLDIR}/devkit/sqc ${DEVSQCLEVEL} ${srcdir}/cmstat.sqc     .. ${srcdir}/..

clean:
	-rm -f *.gcno *.gcda *.gcov
	-rm -f *.o *~ 

distclean: clean
	-rm -f Makefile

################################################################
# @LICENSE@
################################################################
